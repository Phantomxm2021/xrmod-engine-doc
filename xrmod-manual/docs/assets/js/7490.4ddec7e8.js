"use strict";(self.webpackChunkxrmod_manual=self.webpackChunkxrmod_manual||[]).push([[7490],{40404:(t,e,i)=>{i.d(e,{a:()=>n,c:()=>s});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function s(t,e,i){return t(i={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}},19261:(t,e,i)=>{i.d(e,{d:()=>n});const n={chat:"Chat",participants:"Participants",polls:"Polls",plugins:"Plugins",mic_off:"Mic Off",mic_on:"Mic On",video_off:"Video Off",video_on:"Video On",left_meeting:"You left the meeting",share_screen_start:"Share Screen",share_screen_stop:"Stop Sharing",leave:"Leave",dismiss:"Dismiss",page:"Page",settings:"Settings",audio:"Audio",video:"Video",connection:"Connection",leave_confirmation:"Are you sure you want to leave the call?",end_meeting_for_all:"End meeting for all",cancel:"Cancel",perm_browser_denied:"Permission denied by browser","perm.sys_denied.message":"To enable system permission, go to Mac's System Preferences -> Security & Privacy ->  Privacy -> Select Microphone, Camera or 'Screen Recording' and allow permission for your specific browser",perm_sys_denied:"Permission denied by system",perm_denied_title:"Camera and mic permissions denied",perm_denied_text:"It seems like your browser or system has blocked permissions for us to access camera, microphone. Please allow these permissions and reload for a smoother experience.",full_screen:"Full Screen","full_screen.exit":"Exit Full Screen","waitlist.header_title":"Waiting","waitlist.body_text":"You are in the waiting room, the host will let you in soon.","waitlist.deny_request":"Deny request","waitlist.accept_request":"Accept request","waitlist.accept_all":"Accept all"}},99500:(t,e,i)=>{var n;i.d(e,{R:()=>n}),function(t){t.REQUEST_RECEIVED="REQUEST_RECEIVED",t.REQUEST_SENT="REQUEST_SENT",t.INCOMING_REQUEST_ACCEPTED="INCOMING_REQUEST_ACCEPTED",t.OUTGOING_REQUEST_ACCEPTED="OUTGOING_REQUEST_ACCEPTED",t.INCOMING_REQUEST_ENDED="INCOMING_REQUEST_ENDED",t.OUTGOING_REQUEST_ENDED="OUTGOING_REQUEST_ENDED"}(n||(n={}))},47490:(t,e,i)=>{i.r(e),i.d(e,{dyte_notifications:()=>f});var n=i(42619),s=i(99500),o=i(28706),a=i(7743),r=i(80335),c=i(20975),d=i(52731);i(40404),i(19261);const l={joined:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",left:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_join.mp3",message:"https://dyte-uploads.s3.ap-south-1.amazonaws.com/notification_message.mp3"};class p{constructor(){this.audio=document.createElement("audio"),this.audio.volume=.3}play(t,e=3e3){var i;this.playing||(this.playing=!0,this.audio.src=l[t],this.audio.volume=.3,null===(i=this.audio.play())||void 0===i||i.catch((i=>{o.l.error("[dyte-notifications] play() failed\n",{sound:t,duration:e},i)})),setTimeout((()=>{this.playing=!1}),e))}async setDevice(t){var e,i,n;await(null===(n=null===(i=null===(e=this.audio)||void 0===e?void 0:e.setSinkId)||void 0===i?void 0:i.call(e,t))||void 0===n?void 0:n.catch((t=>{o.l.error("[dyte-notifications] setSinkId() error\n",t)})))}}const h=Object.freeze({notifications:{participant_joined:!0,participant_left:!0,participant_joined_waitlist:!0,chat:!0,polls:!0},notification_sounds:{participant_joined:!0,participant_left:!0,chat:!0,polls:!0},participant_joined_sound_notification_limit:10,participant_chat_message_sound_notification_limit:10}),u=2e3;function m(t){return Object.keys(t).filter((e=>t[e]))}const f=class{constructor(t){(0,n.r)(this,t),this.permissions=h,this.enabledSounds=m(h.notification_sounds),this.t=(0,c.u)(),this.iconPack=r.d,this.notifications=[],this.onRemoteUpdate=({payload:t,type:e})=>{if(e===s.R.INCOMING_REQUEST_ACCEPTED){let e=this.meeting.participants.joined.get(t.request.remotePeerId);this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`Granted remote control to ${e.name}`,duration:u})}if(e===s.R.OUTGOING_REQUEST_ACCEPTED){let e=this.meeting.participants.joined.get(t.request.hostPeerId);this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`${e.name} has granted remote control.`,duration:u})}if(e===s.R.REQUEST_RECEIVED){let e=this.meeting.participants.joined.get(t.request.remotePeerId);this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`${e.name} has requested for remote control.`,duration:u})}if(e!==s.R.INCOMING_REQUEST_ENDED&&e!==s.R.OUTGOING_REQUEST_ENDED||this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:"Existing remote control has been terminated.",duration:u}),e===s.R.REQUEST_SENT){let e=this.meeting.participants.joined.get(t.request.hostPeerId);this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`Sent remote control request to ${e.name}`,duration:u})}},this.onDyteNotification=t=>{this.add(t.detail)}}connectedCallback(){"undefined"!=typeof document&&(null===document||void 0===document||document.addEventListener("dyteNotification",this.onDyteNotification)),this.meetingChanged(this.meeting),this.configChanged(this.config),this.statesChanged(this.states)}disconnectedCallback(){"undefined"!=typeof document&&(null===document||void 0===document||document.removeEventListener("dyteNotification",this.onDyteNotification)),null!=this.meeting&&(this.participantJoinedListener&&this.meeting.participants.joined.removeListener("participantJoined",this.participantJoinedListener),this.participantLeftListener&&this.meeting.participants.joined.removeListener("participantLeft",this.participantLeftListener),this.waitlistedParticipantJoinedListener&&this.meeting.participants.waitlisted.removeListener("participantJoined",this.waitlistedParticipantJoinedListener),this.chatUpdateListener&&this.meeting.chat.removeListener("chatUpdate",this.chatUpdateListener),this.pollUpdateListener&&this.meeting.polls.removeListener("pollsUpdate",this.pollUpdateListener),this.networkUpdateListener&&this.meeting.meta.removeListener("disconnected",this.networkUpdateListener),this.networkUpdateListener&&this.meeting.meta.removeListener("connected",this.networkUpdateListener),this.meeting.remote.removeListener("remoteUpdate",this.onRemoteUpdate))}meetingChanged(t){if(null!=t){this.audio=new p,this.participantJoinedListener=t=>{this.permissions.notifications.participant_joined&&this.add({id:`${t.id}-joined`,message:`${(0,a.f)(t.name)} just joined`,image:t.picture,duration:2100}),this.permissions.notification_sounds.participant_joined&&this.canPlayParticipantJoinedSound()&&this.audio.play("joined")},this.participantLeftListener=t=>{this.permissions.notifications.participant_left&&this.add({id:`${t.id}-left`,message:`${(0,a.f)(t.name)} left`,image:t.picture,duration:2100}),this.permissions.notification_sounds.participant_left&&this.canPlayParticipantJoinedSound()&&this.audio.play("left")},this.waitlistedParticipantJoinedListener=t=>{const e=`${t.id}-joined-waitlist`;this.add({id:e,message:`${(0,a.f)(t.name)} is requesting to join the meeting`,image:t.picture,duration:4e3,button:{text:"Accept",variant:"secondary",onClick:async()=>{await this.meeting.participants.acceptWaitingRoomRequest(t.id),this.remove(e)}}})},this.chatUpdateListener=({message:e})=>{if(null!=e){if(e.userId===t.self.userId)return;"text"===e.type&&(this.permissions.notifications.chat&&this.add({id:`message-${Math.random().toString(36)}`,icon:this.iconPack.chat,message:`${e.displayName}: ${(0,a.s)(e.message,20)}`,duration:u}),this.permissions.notification_sounds.chat&&this.canPlayChatSound()&&this.audio.play("message"))}},this.pollUpdateListener=({polls:t})=>{this.permissions.notifications.polls&&this.meeting.self.userId!==t[t.length-1].createdByUserId&&this.add({id:`poll-${Math.random().toString(36)}`,icon:this.iconPack.poll,message:`New poll created by ${t[t.length-1].createdBy}`,duration:u}),this.permissions.notification_sounds.polls&&this.meeting.self.userId!==t[t.length-1].createdByUserId&&this.canPlayChatSound()&&this.audio.play("message")},this.deviceUpdateListener=({device:t,preview:e})=>{e||"audiooutput"===t.kind&&this.audio.setDevice(t.deviceId)},this.networkUpdateListener=({event:t})=>{let e;this.remove("network"),"disconnected"===t?(e=2e4,this.add({id:"network",icon:this.iconPack.disconnected,message:this.t("Connection lost. Trying to reconnect..."),duration:e}),this.disconnectTimeout=setTimeout((()=>{var t;null!=this.states&&(this.states.roomLeftState="disconnected"),d.s.roomLeftState="disconnected",null===(t=this.meeting)||void 0===t||t.leaveRoom()}),e)):"connected"===t&&(e=3e3,this.add({id:"network",icon:this.iconPack.wifi,message:this.t("Connection restored"),duration:e}),clearTimeout(this.disconnectTimeout))};const e=t.self.getCurrentDevices();null!=e.speaker&&this.audio.setDevice(e.speaker.deviceId),t.participants.joined.addListener("participantJoined",this.participantJoinedListener),t.participants.joined.addListener("participantLeft",this.participantLeftListener),this.canAcceptWaitingRequests()&&t.participants.waitlisted.addListener("participantJoined",this.waitlistedParticipantJoinedListener),t.chat.addListener("chatUpdate",this.chatUpdateListener),t.polls.addListener("pollsUpdate",this.pollUpdateListener),t.self.addListener("deviceUpdate",this.deviceUpdateListener),t.meta.addListener("disconnected",(()=>this.networkUpdateListener({event:"disconnected"}))),t.meta.addListener("connected",(()=>this.networkUpdateListener({event:"connected"}))),t.remote.addListener("remoteUpdate",this.onRemoteUpdate)}}configChanged(t){null!=t&&null!=(null==t?void 0:t.config)&&(this.permissions=function(t){const e=Object.assign({},h);return null==t||(Object.assign(e.notification_sounds,t.notification_sounds),Object.assign(e.notifications,t.notifications),e.participant_chat_message_sound_notification_limit=t.participant_chat_message_sound_notification_limit,e.participant_joined_sound_notification_limit=t.participant_joined_sound_notification_limit),e}(t.config),this.enabledSounds=m(this.permissions.notification_sounds))}statesChanged(t){var e;if(null!=t){const i=!(null===(e=null==t?void 0:t.prefs)||void 0===e?void 0:e.muteNotificationSounds);for(const t of this.enabledSounds)t in this.permissions.notification_sounds&&(this.permissions.notification_sounds[t]=i)}}add(t){"visible"===document.visibilityState&&this.notifications.length<5&&(this.notifications=[...this.notifications,t])}remove(t){this.notifications=this.notifications.filter((e=>e.id!==t))}handleDismiss(t){t.stopPropagation();const e=t.detail,i=this.host.shadowRoot.querySelector(`[data-id="${e}"]`);null==i||i.classList.add("exit"),setTimeout((()=>{(0,n.w)((()=>{this.remove(e)}))}),400)}canPlayParticipantJoinedSound(){return null==this.permissions.participant_chat_message_sound_notification_limit||this.permissions.participant_chat_message_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_chat_message_sound_notification_limit}canPlayChatSound(){return null==this.permissions.participant_chat_message_sound_notification_limit||this.permissions.participant_chat_message_sound_notification_limit<=0||this.meeting.participants.count<=this.permissions.participant_chat_message_sound_notification_limit}canAcceptWaitingRequests(){return this.permissions.notifications.participant_joined_waitlist&&this.meeting.self.permissions.acceptWaitingRequests}render(){return(0,n.h)(n.H,null,this.notifications.map((t=>(0,n.h)("dyte-notification",{size:this.size,key:t.id,"data-id":t.id,notification:t,onDyteNotificationDismiss:t=>this.handleDismiss(t)}))))}get host(){return(0,n.g)(this)}static get watchers(){return{meeting:["meetingChanged"],config:["configChanged"],states:["statesChanged"]}}};f.style=":host{position:absolute;top:var(--dyte-space-4, 16px);right:var(--dyte-space-4, 16px);bottom:var(--dyte-space-4, 16px);left:var(--dyte-space-4, 16px);top:auto;z-index:10;display:flex;flex-direction:column;font-family:var(--dyte-font-family, sans-serif);pointer-events:none}dyte-notification{margin-top:var(--dyte-space-2, 8px)}"},20975:(t,e,i)=>{i.d(e,{g:()=>s,u:()=>o});var n=i(19261);const s=async t=>{if(null==t||"en"===t||""===t.trim())return n.d;try{const e=await fetch(`http://localhost:5000/${t}.json`);return e.ok?Object.assign({},n.d,await e.json()):n.d}catch(e){return n.d}},o=(t=n.d)=>e=>{var i;return null!==(i=t[e])&&void 0!==i?i:e}},28706:(t,e,i)=>{i.d(e,{l:()=>s});var n=i(40404),s=(0,n.c)((function(t){var e,i;e=n.a,i=function(){var t=function(){},e="undefined",i=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function s(t,e){var i=t[e];if("function"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(n){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(n){return"debug"===n&&(n="log"),typeof console!==e&&("trace"===n&&i?o:void 0!==console[n]?s(console,n):void 0!==console.log?s(console,"log"):t)}function r(e,i){for(var s=0;s<n.length;s++){var o=n[s];this[o]=s<e?t:this.methodFactory(o,e,i)}this.log=this.debug}function c(t,i,n){return function(){typeof console!==e&&(r.call(this,i,n),this[t].apply(this,arguments))}}function d(t,e,i){return a(t)||c.apply(this,arguments)}function l(t,i,s){var o,a=this;i=null==i?"WARN":i;var c="loglevel";function l(){var t;if(typeof window!==e&&c){try{t=window.localStorage[c]}catch(s){}if(typeof t===e)try{var i=window.document.cookie,n=i.indexOf(encodeURIComponent(c)+"=");-1!==n&&(t=/^([^;]+)/.exec(i.slice(n))[1])}catch(s){}return void 0===a.levels[t]&&(t=void 0),t}}"string"==typeof t?c+=":"+t:"symbol"==typeof t&&(c=void 0),a.name=t,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=s||d,a.getLevel=function(){return o},a.setLevel=function(i,s){if("string"==typeof i&&void 0!==a.levels[i.toUpperCase()]&&(i=a.levels[i.toUpperCase()]),!("number"==typeof i&&i>=0&&i<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+i;if(o=i,!1!==s&&function(t){var i=(n[t]||"silent").toUpperCase();if(typeof window!==e&&c){try{return void(window.localStorage[c]=i)}catch(s){}try{window.document.cookie=encodeURIComponent(c)+"="+i+";"}catch(s){}}}(i),r.call(a,i,t),typeof console===e&&i<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(t){i=t,l()||a.setLevel(t,!1)},a.resetLevel=function(){a.setLevel(i,!1),function(){if(typeof window!==e&&c){try{return void window.localStorage.removeItem(c)}catch(t){}try{window.document.cookie=encodeURIComponent(c)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}()},a.enableAll=function(t){a.setLevel(a.levels.TRACE,t)},a.disableAll=function(t){a.setLevel(a.levels.SILENT,t)};var p=l();null==p&&(p=i),a.setLevel(p,!1)}var p=new l,h={};p.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=h[t];return e||(e=h[t]=new l(t,p.getLevel(),p.methodFactory)),e};var u=typeof window!==e?window.log:void 0;return p.noConflict=function(){return typeof window!==e&&window.log===p&&(window.log=u),p},p.getLoggers=function(){return h},p.default=p,p},t.exports?t.exports=i():e.log=i()}));s.enableAll()},52731:(t,e,i)=>{i.d(e,{o:()=>c,s:()=>r});var n=i(42619);const s=t=>!("isConnected"in t)||t.isConnected,o=((t,e)=>{let i;return(...n)=>{i&&clearTimeout(i),i=setTimeout((()=>{i=0,t(...n)}),e)}})((t=>{for(let e of t.keys())t.set(e,t.get(e).filter(s))}),2e3),a=(t,e)=>{const i=t.indexOf(e);i>=0&&(t[i]=t[t.length-1],t.length--)},{state:r,onChange:c}=((t,e)=>{const i=((t,e=((t,e)=>t!==e))=>{let i=new Map(Object.entries(null!=t?t:{}));const n={dispose:[],get:[],set:[],reset:[]},s=()=>{i=new Map(Object.entries(null!=t?t:{})),n.reset.forEach((t=>t()))},o=t=>(n.get.forEach((e=>e(t))),i.get(t)),r=(t,s)=>{const o=i.get(t);e(s,o,t)&&(i.set(t,s),n.set.forEach((e=>e(t,s,o))))},c="undefined"==typeof Proxy?{}:new Proxy(t,{get:(t,e)=>o(e),ownKeys:t=>Array.from(i.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,e)=>i.has(e),set:(t,e,i)=>(r(e,i),!0)}),d=(t,e)=>(n[t].push(e),()=>{a(n[t],e)});return{state:c,get:o,set:r,on:d,onChange:(e,i)=>{const n=d("set",((t,n)=>{t===e&&i(n)})),s=d("reset",(()=>i(t[e])));return()=>{n(),s()}},use:(...t)=>{const e=t.reduce(((t,e)=>(e.set&&t.push(d("set",e.set)),e.get&&t.push(d("get",e.get)),e.reset&&t.push(d("reset",e.reset)),e.dispose&&t.push(d("dispose",e.dispose)),t)),[]);return()=>e.forEach((t=>t()))},dispose:()=>{n.dispose.forEach((t=>t())),s()},reset:s,forceUpdate:t=>{const e=i.get(t);n.set.forEach((i=>i(t,e,e)))}}})(t,e);return i.use((()=>{if("function"!=typeof n.a)return{};const t=new Map;return{dispose:()=>t.clear(),get:e=>{const i=(0,n.a)();i&&((t,e,i)=>{const n=t.get(e);n?n.includes(i)||n.push(i):t.set(e,[i])})(t,e,i)},set:e=>{const i=t.get(e);i&&t.set(e,i.filter(n.f)),o(t)},reset:()=>{t.forEach((t=>t.forEach(n.f))),o(t)}}})()),i})({})},7743:(t,e,i)=>{i.d(e,{a:()=>o,f:()=>a,h:()=>s,s:()=>n});const n=(t,e=20)=>null==t?"":t.length>e?`${t.substring(0,e)}...`:t,s=t=>/^\p{Emoji}+$/u.test(t)&&!/^\d+$/.test(t),o=t=>t.trim().toLowerCase().startsWith("javascript:")?"https://dyte.io":t,a=t=>""===(t=t.trim())?"Participant":t}}]);